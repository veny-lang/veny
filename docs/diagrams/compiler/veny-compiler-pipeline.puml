@startuml
title Veny Compiler Pipeline (Stdlib vs User Code)

package "Frontend" {
    [Veny Source Files] --> [Parser]
    [Parser] --> [AST]
    [AST] --> [Semantic Analyzer]
    [Semantic Analyzer] --> [Validated AST]
}

package "Stdlib Flow" {
    [Validated AST] --> [Symbol Table / Type Info]
    note right of [Symbol Table / Type Info]
      Stdlib contributes types and
      symbols for user programs,
      but no code is generated.
    end note
}

package "User Code Flow" {
    [Validated AST] --> [Java Code Generator]
    [Java Code Generator] --> [Generated Java Files]
    [Generated Java Files] --> [javac Compilation]
    [javac Compilation] --> [Java Class Files]
}

package "Optional Native Output" {
    [Java Class Files] --> [GraalVM native-image]
    [GraalVM native-image] --> [Native Binary]
}

package "Execution" {
    [Java Class Files] --> [JVM Execution]
    [Native Binary] --> [OS Execution]
}

@enduml
